"use strict";function eddCompareURL(t){var e="edd-compare-url";document.getElementById(e).innerHTML=document.getElementById(e).innerHTML+t+",",document.getElementById("edd-compare-button-"+t).style.display="none",document.getElementById("edd-compare-go-button-"+t).style.display="inline-block";for(var i=document.getElementsByClassName("edd-compare-go"),s=0;s<i.length;s++){var r=document.getElementById(e).innerHTML.replace(/\&amp\;/g,"&").slice(0,-1);i[s].setAttribute("href",r)}}jQuery(function(t){function e(t){this.element=t,this.table=this.element.children(".edd-compare-products-table"),this.productsWrapper=this.table.children(".edd-compare-products-wrapper"),this.tableColumns=this.productsWrapper.children(".edd-compare-products-columns"),this.products=this.tableColumns.children(".product"),this.productsNumber=this.products.length,this.productWidth=this.products.eq(0).width(),this.productsTopInfo=this.table.find(".top-info"),this.featuresTopInfo=this.table.children(".features").children(".top-info"),this.topInfoHeight=this.featuresTopInfo.innerHeight()+30,this.leftScrolling=!1,this.filterBtn=this.element.find(".filter"),this.resetBtn=this.element.find(".reset"),this.filtering=!1,this.selectedproductsNumber=0,this.filterActive=!1,this.navigation=this.table.children(".edd-compare-products-navigation"),this.bindEvents()}function i(){o.forEach(function(t){t.updateProperties()}),n=!1}function s(){return window.getComputedStyle(o[0].element.get(0),"::after").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}function r(t,e){t.css({"-moz-transform":"translateX("+e+"px)","-webkit-transform":"translateX("+e+"px)","-ms-transform":"translateX("+e+"px)","-o-transform":"translateX("+e+"px)",transform:"translateX("+e+"px)"})}e.prototype.bindEvents=function(){var e=this;e.productsWrapper.on("scroll",function(){e.leftScrolling||(e.leftScrolling=!0,window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateLeftScrolling()}):setTimeout(function(){e.updateLeftScrolling()},250))}),e.products.on("click",".top-info",function(){var i=t(this).parents(".product");!e.filtering&&i.hasClass("selected")?(i.removeClass("selected"),e.selectedproductsNumber=e.selectedproductsNumber-1,e.upadteFilterBtn()):e.filtering||i.hasClass("selected")||(i.addClass("selected"),e.selectedproductsNumber=e.selectedproductsNumber+1,e.upadteFilterBtn())}),e.filterBtn.on("click",function(t){t.preventDefault(),e.filterActive&&(e.filtering=!0,e.showSelection(),e.filterActive=!1,e.filterBtn.removeClass("active"))}),e.resetBtn.on("click",function(t){t.preventDefault(),e.filtering?(e.filtering=!1,e.resetSelection()):e.products.removeClass("selected"),e.selectedproductsNumber=0,e.upadteFilterBtn()}),this.navigation.on("click","a",function(i){i.preventDefault(),e.updateSlider(t(i.target).hasClass("next"))})},e.prototype.upadteFilterBtn=function(){this.selectedproductsNumber>=2?(this.filterActive=!0,this.filterBtn.addClass("active")):(this.filterActive=!1,this.filterBtn.removeClass("active"))},e.prototype.updateLeftScrolling=function(){var t=(parseInt(this.tableColumns.eq(0).outerWidth(!0)),parseInt(this.element.width()),this.productsWrapper.scrollLeft());t>0?this.table.addClass("scrolling"):this.table.removeClass("scrolling"),this.table.hasClass("top-fixed")&&"desktop"==s()&&(r(this.productsTopInfo,"-"+t),r(this.featuresTopInfo,"0")),this.leftScrolling=!1,this.updateNavigationVisibility(t)},e.prototype.updateNavigationVisibility=function(t){t>0?this.navigation.find(".prev").removeClass("inactive"):this.navigation.find(".prev").addClass("inactive"),t<this.tableColumns.outerWidth(!0)-this.productsWrapper.width()&&this.tableColumns.outerWidth(!0)>this.productsWrapper.width()?this.navigation.find(".next").removeClass("inactive"):this.navigation.find(".next").addClass("inactive")},e.prototype.updateProperties=function(){this.tableHeight=this.table.height(),this.productWidth=this.products.eq(0).width(),this.topInfoHeight=this.featuresTopInfo.innerHeight()+30,this.tableColumns.css("width",this.productWidth*this.productsNumber+"px")},e.prototype.showSelection=function(){this.element.addClass("filtering"),this.filterProducts()},e.prototype.resetSelection=function(){this.tableColumns.css("width",this.productWidth*this.productsNumber+"px"),this.element.removeClass("no-product-transition"),this.resetProductsVisibility()},e.prototype.filterProducts=function(){var e=this,i=e.tableColumns.offset().left,s=e.productsWrapper.scrollLeft(),o=this.products.filter(".selected"),n=o.length;o.each(function(l){var a=t(this),d=i+l*e.productWidth+s-a.offset().left;r(a,d),l==n-1&&a.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){setTimeout(function(){e.element.addClass("no-product-transition")},50),setTimeout(function(){e.element.addClass("filtered"),e.productsWrapper.scrollLeft(0),e.tableColumns.css("width",e.productWidth*n+"px"),o.attr("style",""),a.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),e.updateNavigationVisibility(0)},100)})}),t(".no-csstransitions").length>0&&(e.element.addClass("filtered"),e.productsWrapper.scrollLeft(0),e.tableColumns.css("width",e.productWidth*n+"px"),o.attr("style",""),e.updateNavigationVisibility(0))},e.prototype.resetProductsVisibility=function(){var e=this,i=(e.tableColumns.offset().left,this.products.filter(".selected")),s=(i.length,e.productsWrapper.scrollLeft(),0);e.element.addClass("no-product-transition").removeClass("filtered"),e.products.each(function(i){var o=t(this);if(o.hasClass("selected")){s+=1;var n=(-i+s-1)*e.productWidth;r(o,n)}}),setTimeout(function(){e.element.removeClass("no-product-transition filtering"),r(i,"0"),i.removeClass("selected").attr("style","")},50)},e.prototype.updateSlider=function(t){var e=this.productsWrapper.scrollLeft();e=t?e+this.productWidth:e-this.productWidth,e<0&&(e=0),e>this.tableColumns.outerWidth(!0)-this.productsWrapper.width()&&(e=this.tableColumns.outerWidth(!0)-this.productsWrapper.width()),this.productsWrapper.animate({scrollLeft:e},200)};var o=[];t(".edd-compare-products").each(function(){o.push(new e(t(this)))});var n=!1;t(window).on("resize",function(){n||(n=!0,window.requestAnimationFrame?window.requestAnimationFrame(i):setTimeout(i,250))})}),jQuery(function(t){t(".edd-compare-products-features-list-labels li, .edd-compare-products-features-list li").on("mouseenter",function(){var e=t(this).index();t(this).not(".buy-button").addClass("hover"),t(".edd-compare-products-features-list-labels, .edd-compare-products-features-list").each(function(i,s){t(s).children().not(".buy-button").eq(e).addClass("hover")})}),t(".edd-compare-products-features-list-labels li, .edd-compare-products-features-list li").on("mouseleave",function(){var e=t(this).index();t(this).not(".buy-button").removeClass("hover"),t(".edd-compare-products-features-list-labels, .edd-compare-products-features-list").each(function(i,s){t(s).children().not(".buy-button").eq(e).removeClass("hover")})})});
//# sourceMappingURL=scripts.js.map
