function eddCompareURL(a){var b="edd-compare-url";document.getElementById(b).innerHTML=document.getElementById(b).innerHTML+a+",",document.getElementById("edd-compare-button-"+a).style.display="none",document.getElementById("edd-compare-go-button-"+a).style.display="inline-block";for(var c=document.getElementsByClassName("edd-compare-go"),d=0;d<c.length;d++){var e=document.getElementById(b).innerHTML.replace(/\&amp\;/g,"&").slice(0,-1);c[d].setAttribute("href",e)}}jQuery(function(a){function b(a){this.element=a,this.table=this.element.children(".edd-compare-products-table"),this.productsWrapper=this.table.children(".edd-compare-products-wrapper"),this.tableColumns=this.productsWrapper.children(".edd-compare-products-columns"),this.products=this.tableColumns.children(".product"),this.productsNumber=this.products.length,this.productWidth=this.products.eq(0).width(),this.productsTopInfo=this.table.find(".top-info"),this.featuresTopInfo=this.table.children(".features").children(".top-info"),this.topInfoHeight=this.featuresTopInfo.innerHeight()+30,this.leftScrolling=!1,this.filterBtn=this.element.find(".filter"),this.resetBtn=this.element.find(".reset"),this.filtering=!1,this.selectedproductsNumber=0,this.filterActive=!1,this.navigation=this.table.children(".edd-compare-products-navigation"),this.bindEvents()}function c(){var b=a(window).scrollTop();g.forEach(function(a){a.updateTopScrolling(b)}),h=!1}function d(){g.forEach(function(a){a.updateProperties()}),i=!1}function e(){return window.getComputedStyle(g[0].element.get(0),"::after").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}function f(a,b){a.css({"-moz-transform":"translateX("+b+"px)","-webkit-transform":"translateX("+b+"px)","-ms-transform":"translateX("+b+"px)","-o-transform":"translateX("+b+"px)",transform:"translateX("+b+"px)"})}b.prototype.bindEvents=function(){var b=this;b.productsWrapper.on("scroll",function(){b.leftScrolling||(b.leftScrolling=!0,window.requestAnimationFrame?window.requestAnimationFrame(function(){b.updateLeftScrolling()}):setTimeout(function(){b.updateLeftScrolling()},250))}),b.products.on("click",".top-info",function(){var c=a(this).parents(".product");!b.filtering&&c.hasClass("selected")?(c.removeClass("selected"),b.selectedproductsNumber=b.selectedproductsNumber-1,b.upadteFilterBtn()):b.filtering||c.hasClass("selected")||(c.addClass("selected"),b.selectedproductsNumber=b.selectedproductsNumber+1,b.upadteFilterBtn())}),b.filterBtn.on("click",function(a){a.preventDefault(),b.filterActive&&(b.filtering=!0,b.showSelection(),b.filterActive=!1,b.filterBtn.removeClass("active"))}),b.resetBtn.on("click",function(a){a.preventDefault(),b.filtering?(b.filtering=!1,b.resetSelection()):b.products.removeClass("selected"),b.selectedproductsNumber=0,b.upadteFilterBtn()}),this.navigation.on("click","a",function(c){c.preventDefault(),b.updateSlider(a(c.target).hasClass("next"))})},b.prototype.upadteFilterBtn=function(){this.selectedproductsNumber>=2?(this.filterActive=!0,this.filterBtn.addClass("active")):(this.filterActive=!1,this.filterBtn.removeClass("active"))},b.prototype.updateLeftScrolling=function(){var a=(parseInt(this.tableColumns.eq(0).outerWidth(!0)),parseInt(this.element.width()),this.productsWrapper.scrollLeft());a>0?this.table.addClass("scrolling"):this.table.removeClass("scrolling"),this.table.hasClass("top-fixed")&&"desktop"==e()&&(f(this.productsTopInfo,"-"+a),f(this.featuresTopInfo,"0")),this.leftScrolling=!1,this.updateNavigationVisibility(a)},b.prototype.updateNavigationVisibility=function(a){a>0?this.navigation.find(".prev").removeClass("inactive"):this.navigation.find(".prev").addClass("inactive"),a<this.tableColumns.outerWidth(!0)-this.productsWrapper.width()&&this.tableColumns.outerWidth(!0)>this.productsWrapper.width()?this.navigation.find(".next").removeClass("inactive"):this.navigation.find(".next").addClass("inactive")},b.prototype.updateTopScrolling=function(b){var c=this.table.offset().top;this.productsWrapper.scrollLeft();b>=c&&c+this.tableHeight-this.topInfoHeight>=b?!this.table.hasClass("top-fixed")&&a(document).height()>c+a(window).height()+200&&(this.table.addClass("top-fixed").removeClass("top-scrolling"),"desktop"==e()&&(this.productsTopInfo.css("top","0"),this.navigation.find("a").css("top","0px"))):b>=c?(this.table.removeClass("top-fixed").addClass("top-scrolling"),"desktop"==e()&&(this.productsTopInfo.css("top",this.tableHeight-this.topInfoHeight+"px"),this.navigation.find("a").css("top",this.tableHeight-this.topInfoHeight+"px"))):(this.table.removeClass("top-fixed top-scrolling"),this.productsTopInfo.attr("style",""),this.navigation.find("a").attr("style","")),this.updateLeftScrolling()},b.prototype.updateProperties=function(){this.tableHeight=this.table.height(),this.productWidth=this.products.eq(0).width(),this.topInfoHeight=this.featuresTopInfo.innerHeight()+30,this.tableColumns.css("width",this.productWidth*this.productsNumber+"px")},b.prototype.showSelection=function(){this.element.addClass("filtering"),this.filterProducts()},b.prototype.resetSelection=function(){this.tableColumns.css("width",this.productWidth*this.productsNumber+"px"),this.element.removeClass("no-product-transition"),this.resetProductsVisibility()},b.prototype.filterProducts=function(){var b=this,c=b.tableColumns.offset().left,d=b.productsWrapper.scrollLeft(),e=this.products.filter(".selected"),g=e.length;e.each(function(h){var i=a(this),j=c+h*b.productWidth+d-i.offset().left;f(i,j),h==g-1&&i.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){setTimeout(function(){b.element.addClass("no-product-transition")},50),setTimeout(function(){b.element.addClass("filtered"),b.productsWrapper.scrollLeft(0),b.tableColumns.css("width",b.productWidth*g+"px"),e.attr("style",""),i.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),b.updateNavigationVisibility(0)},100)})}),a(".no-csstransitions").length>0&&(b.element.addClass("filtered"),b.productsWrapper.scrollLeft(0),b.tableColumns.css("width",b.productWidth*g+"px"),e.attr("style",""),b.updateNavigationVisibility(0))},b.prototype.resetProductsVisibility=function(){var b=this,c=(b.tableColumns.offset().left,this.products.filter(".selected")),d=(c.length,b.productsWrapper.scrollLeft(),0);b.element.addClass("no-product-transition").removeClass("filtered"),b.products.each(function(c){var e=a(this);if(e.hasClass("selected")){d+=1;var g=(-c+d-1)*b.productWidth;f(e,g)}}),setTimeout(function(){b.element.removeClass("no-product-transition filtering"),f(c,"0"),c.removeClass("selected").attr("style","")},50)},b.prototype.updateSlider=function(a){var b=this.productsWrapper.scrollLeft();b=a?b+this.productWidth:b-this.productWidth,0>b&&(b=0),b>this.tableColumns.outerWidth(!0)-this.productsWrapper.width()&&(b=this.tableColumns.outerWidth(!0)-this.productsWrapper.width()),this.productsWrapper.animate({scrollLeft:b},200)};var g=[];a(".edd-compare-products").each(function(){g.push(new b(a(this)))});var h=!1;a(window).on("scroll",function(){h||(h=!0,window.requestAnimationFrame?window.requestAnimationFrame(c):setTimeout(c,250))});var i=!1;a(window).on("resize",function(){i||(i=!0,window.requestAnimationFrame?window.requestAnimationFrame(d):setTimeout(d,250))})});
//# sourceMappingURL=scripts.js.map