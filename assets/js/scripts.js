function eddCompareURL(a){var b="edd-compare-url";document.getElementById(b).innerHTML=document.getElementById(b).innerHTML+a+",",document.getElementById("edd-compare-button-"+a).style.display="none",document.getElementById("edd-compare-go-button-"+a).style.display="inline-block";for(var c=document.getElementsByClassName("edd-compare-go"),d=0;d<c.length;d++){var e=document.getElementById(b).innerHTML.replace(/\&amp\;/g,"&").slice(0,-1);c[d].setAttribute("href",e)}}!function(a){var b={width:function(b){var c=a("<span>"+b+"</span>").css({position:"absolute","white-space":"nowrap",visibility:"hidden"}).css("font",this.css("font"));a("body").append(c);var d=c.width();return c.remove(),d},bestfit:function(){for(var a=parseInt(this.css("font-size"),10),b=c(this);b.height()>this.height();)this.css("font-size",--a+"px");return d(b),this},truncate:function(a){for(var b,e=c(this);e.height()>this.height();)b=e.html(),e.html(b.substring(0,b.length-4)),e.append("...");return d(e),this}};a.fn.textfit=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery.textfit"):b.init.apply(this,arguments)};var c=function(b){return b.wrapInner(a("<div id='textfit-inner'></div>").css("width",b.css("width"))),a("#textfit-inner")},d=function(a){a.replaceWith(a.contents())}}(jQuery),jQuery(function(a){function b(a){this.element=a,this.table=this.element.children(".edd-compare-products-table"),this.productsWrapper=this.table.children(".edd-compare-products-wrapper"),this.tableColumns=this.productsWrapper.children(".edd-compare-products-columns"),this.products=this.tableColumns.children(".product"),this.productsNumber=this.products.length,this.productWidth=this.products.eq(0).width(),this.productsTopInfo=this.table.find(".top-info"),this.featuresTopInfo=this.table.children(".features").children(".top-info"),this.topInfoHeight=this.featuresTopInfo.innerHeight()+30,this.leftScrolling=!1,this.filterBtn=this.element.find(".filter"),this.resetBtn=this.element.find(".reset"),this.filtering=!1,this.selectedproductsNumber=0,this.filterActive=!1,this.navigation=this.table.children(".edd-compare-products-navigation"),this.bindEvents()}function c(){f.forEach(function(a){a.updateProperties()}),g=!1}function d(){return window.getComputedStyle(f[0].element.get(0),"::after").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}function e(a,b){a.css({"-moz-transform":"translateX("+b+"px)","-webkit-transform":"translateX("+b+"px)","-ms-transform":"translateX("+b+"px)","-o-transform":"translateX("+b+"px)",transform:"translateX("+b+"px)"})}b.prototype.bindEvents=function(){var b=this;b.productsWrapper.on("scroll",function(){b.leftScrolling||(b.leftScrolling=!0,window.requestAnimationFrame?window.requestAnimationFrame(function(){b.updateLeftScrolling()}):setTimeout(function(){b.updateLeftScrolling()},250))}),b.products.on("click",".top-info",function(){var c=a(this).parents(".product");!b.filtering&&c.hasClass("selected")?(c.removeClass("selected"),b.selectedproductsNumber=b.selectedproductsNumber-1,b.upadteFilterBtn()):b.filtering||c.hasClass("selected")||(c.addClass("selected"),b.selectedproductsNumber=b.selectedproductsNumber+1,b.upadteFilterBtn())}),b.filterBtn.on("click",function(a){a.preventDefault(),b.filterActive&&(b.filtering=!0,b.showSelection(),b.filterActive=!1,b.filterBtn.removeClass("active"))}),b.resetBtn.on("click",function(c){c.preventDefault(),b.filtering?(b.filtering=!1,b.resetSelection()):b.products.removeClass("selected"),b.selectedproductsNumber=0,a(b.element).trigger("resetFilters"),b.upadteFilterBtn()}),this.navigation.on("click","a",function(c){c.preventDefault(),b.updateSlider(a(c.target).hasClass("next"))})},b.prototype.upadteFilterBtn=function(){this.selectedproductsNumber>=2?(this.filterActive=!0,this.filterBtn.addClass("active")):(this.filterActive=!1,this.filterBtn.removeClass("active"))},b.prototype.updateLeftScrolling=function(){var a=(parseInt(this.tableColumns.eq(0).outerWidth(!0)),parseInt(this.element.width()),this.productsWrapper.scrollLeft());a>0?this.table.addClass("scrolling"):this.table.removeClass("scrolling"),this.table.hasClass("top-fixed")&&"desktop"==d()&&(e(this.productsTopInfo,"-"+a),e(this.featuresTopInfo,"0")),this.leftScrolling=!1,this.updateNavigationVisibility(a)},b.prototype.updateNavigationVisibility=function(a){a>0?this.navigation.find(".prev").removeClass("inactive"):this.navigation.find(".prev").addClass("inactive"),a<this.tableColumns.outerWidth(!0)-this.productsWrapper.width()&&this.tableColumns.outerWidth(!0)>this.productsWrapper.width()?this.navigation.find(".next").removeClass("inactive"):this.navigation.find(".next").addClass("inactive")},b.prototype.updateProperties=function(){this.tableHeight=this.table.height(),this.productWidth=this.products.eq(0).width(),this.topInfoHeight=this.featuresTopInfo.innerHeight()+30,this.tableColumns.css("width",this.productWidth*this.productsNumber+"px")},b.prototype.showSelection=function(){this.element.addClass("filtering"),this.filterProducts()},b.prototype.resetSelection=function(){this.tableColumns.css("width",this.productWidth*this.productsNumber+"px"),this.element.removeClass("no-product-transition"),this.resetProductsVisibility()},b.prototype.filterProducts=function(){var b=this,c=b.tableColumns.offset().left,d=b.productsWrapper.scrollLeft(),f=this.products.filter(".selected"),g=f.length;f.each(function(h){var i=a(this),j=c+h*b.productWidth+d-i.offset().left;e(i,j),h==g-1&&i.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){setTimeout(function(){b.element.addClass("no-product-transition")},50),setTimeout(function(){b.element.addClass("filtered"),b.productsWrapper.scrollLeft(0),b.tableColumns.css("width",b.productWidth*g+"px"),f.attr("style",""),i.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),b.updateNavigationVisibility(0)},100)})}),a(".no-csstransitions").length>0&&(b.element.addClass("filtered"),b.productsWrapper.scrollLeft(0),b.tableColumns.css("width",b.productWidth*g+"px"),f.attr("style",""),b.updateNavigationVisibility(0)),a(b.element).trigger("filtered")},b.prototype.resetProductsVisibility=function(){var b=this,c=(b.tableColumns.offset().left,this.products.filter(".selected")),d=(c.length,b.productsWrapper.scrollLeft(),0);b.element.addClass("no-product-transition").removeClass("filtered"),b.products.each(function(c){var f=a(this);if(f.hasClass("selected")){d+=1;var g=(-c+d-1)*b.productWidth;e(f,g)}}),setTimeout(function(){b.element.removeClass("no-product-transition filtering"),e(c,"0"),c.removeClass("selected").attr("style","")},50)},b.prototype.updateSlider=function(a){var b=this.productsWrapper.scrollLeft();b=a?b+this.productWidth:b-this.productWidth,0>b&&(b=0),b>this.tableColumns.outerWidth(!0)-this.productsWrapper.width()&&(b=this.tableColumns.outerWidth(!0)-this.productsWrapper.width()),this.productsWrapper.animate({scrollLeft:b},200)};var f=[];a(".edd-compare-products").each(function(){f.push(new b(a(this)))});var g=!1;a(window).on("resize",function(){g||(g=!0,window.requestAnimationFrame?window.requestAnimationFrame(c):setTimeout(c,250))})}),jQuery(function(a){function b(b,c){a(".edd-compare-products-features-list-labels, .edd-compare-products-features-list").each(function(d,e){c?a(e).children().not(".buy-button").eq(b).addClass("difference"):a(e).children().not(".buy-button").eq(b).removeClass("difference")})}function c(c){console.log(c);for(var d=[],e=a(c).find(".product:visible .edd-compare-products-features-list"),f=0;f<e.length;f++){for(var g=a(e[f]).find("li").not(".buy-button"),h=0;h<g.length;h++)void 0!==d[h]&&d[h]!==a(g[h]).text()&&""!==a(g[h]).text()||d[h]===!1?(b(h,!0),d[h]=!1):(b(h,!1),d[h]=a(g[h]).text());console.log(d)}}a(".edd-compare-products").each(function(a,b){c(b)}),a(document).on("filtered resetFilters",".edd-compare-products",function(){c(this)}),a(".edd-compare-products-features-list-labels li, .edd-compare-products-features-list li").on("mouseenter",function(){var b=a(this).index();a(this).not(".buy-button").addClass("hover"),a(".edd-compare-products-features-list-labels, .edd-compare-products-features-list").each(function(c,d){a(d).children().not(".buy-button").eq(b).addClass("hover")})}),a(".edd-compare-products-features-list-labels li, .edd-compare-products-features-list li").on("mouseleave",function(){var b=a(this).index();a(this).not(".buy-button").removeClass("hover"),a(".edd-compare-products-features-list-labels, .edd-compare-products-features-list").each(function(c,d){a(d).children().not(".buy-button").eq(b).removeClass("hover")})})});
//# sourceMappingURL=scripts.js.map